<ForgotPasswordScreen>:
    FloatLayout:
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1  # Default white background
            Rectangle:
                source: 'assets/landingbg.jpg'  # Background image
                pos: self.pos
                size: self.size
            Color:
                rgba: 0, 0, 0, 0.6  # Semi-transparent black overlay
            Rectangle:
                pos: self.pos
                size: self.size

        BoxLayout:
            orientation: 'vertical'
            spacing: 20
            size_hint: (0.4, 0.5)  # Adjust box size (width, height)
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}  # Center alignment
            padding: [30, 40]

            Label:
                text: "Forgot Password"
                font_size: 32
                bold: True
                color: (1, 1, 1, 1)  # White text
                halign: 'center'
                size_hint_y: None
                height: 50

            # Email Input
            TextInput:
                id: email
                hint_text: 'Enter your registered email'
                size_hint_y: None
                height: 50
                font_size: 18
                multiline: False  # Prevent multiline input
                background_normal: ''
                background_color: (1, 1, 1, 0.8)  # Light background
                on_text_validate: root.on_email_enter()  # Trigger when user presses Enter

            # OTP Input (Initially disabled until email is entered and OTP is sent)
            TextInput:
                id: otp
                hint_text: 'Enter OTP sent to your email'
                size_hint_y: None
                height: 50
                font_size: 18
                multiline: False  # Prevent multiline input
                background_normal: ''
                background_color: (1, 1, 1, 0.8)  # Light background
                disabled: True  # Initially disabled
                on_text_validate: root.on_otp_enter()  # Trigger when user presses Enter

            # New Password Input
            TextInput:
                id: new_password
                hint_text: 'New Password'
                password: True
                size_hint_y: None
                height: 50
                font_size: 18
                multiline: False  # Prevent multiline input
                background_normal: ''
                background_color: (1, 1, 1, 0.8)  # Light background
                on_text_validate: root.on_new_password_enter()  # Trigger when user presses Enter

            # Re-enter New Password Input
            TextInput:
                id: confirm_password
                hint_text: 'Confirm New Password'
                password: True
                size_hint_y: None
                height: 50
                font_size: 18
                multiline: False  # Prevent multiline input
                background_normal: ''
                background_color: (1, 1, 1, 0.8)  # Light background
                on_text_validate: root.on_confirm_password_enter()  # Trigger password reset on Enter

            # Reset Button
            Button:
                text: "Reset Password"
                size_hint_y: None
                height: 50
                font_size: 18
                background_color: (1, 0, 0, 1)  # Red button color
                color: (1, 1, 1, 1)  # White text
                on_press: root.reset_password()

            # Back to Login Button
            Button:
                text: "Back to Login"
                size_hint_y: None
                height: 50
                font_size: 18
                background_color: (0, 0, 0, 1)  # Black button color
                color: (1, 1, 1, 1)  # White text
                on_press: root.manager.current = 'login'
